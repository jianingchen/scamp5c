<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>SCAMP-5c Vision System: SCAMP-5 -- An Image Sensor with Focal Plane Parallel Processing Array</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="scamp5c_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SCAMP-5c Vision System
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">An image sensor with a parallel processor on focal plane</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SCAMP-5 -- An Image Sensor with Focal Plane Parallel Processing Array </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="sec_intro"></a>
Introduction</h1>
<p>SCAMP-5 is a vision chip built in 0.18 um CMOS technology with 256x256 processing elements (PEs). Each element incorporates 7 analogue memories and a relative plethora of digital memories, while reducing the processing element size to less than half its area. A diagram of the functional elements of the system and processor array is shown in figure 1. Within a single processing element, the process of reading or writing these memories to common buses allows sequential, simple computations that can implement complex algorithms. With many PEs operating in parallel in an SIMD (single instruction multiple data) architecture, high speed image processing is made possible.</p>
<p><br />
 </p>
<h1><a class="anchor" id="sec_environment"></a>
Development Environment</h1>
<ul>
<li>Windows 7 or Above</li>
<li>A webcam is required for running simulation</li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="sec_files"></a>
File List</h1>
<ul>
<li>apron<ul>
<li>bin &mdash; contains the executables and DLLs of APRON.</li>
</ul>
</li>
<li>apron_ext<ul>
<li>build &mdash; contains SCAMP-5c plugins for APRON.</li>
<li>dev &mdash; contains the C++ source code and project files of the plugins for APRON.</li>
</ul>
</li>
<li>essential_software &mdash; installers of the software essential for the development.</li>
<li>examples &mdash; contains the examples.</li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="sec_getstart"></a>
Getting Started</h1>
<h2><a class="anchor" id="sec_getstart_1"></a>
1. Development Environment Setup</h2>
<p>The SCAMP-5c system has its own programming language with a customized toolchain. The toolchain compiles source code into machine code (ICW file). A software called APRON is used to load the machine code into the system as well as host the system on PC through a GUI. Alternatively, a source code can be executed as a simulation in APRON directly. The source code is edited using Crimson Editor as it has the shortcut for the toolchain. The hardware implemention of SCAMP-5c is partially based on a FPGA development board from Opal-Kelly, so the coresspoonding driver is required.</p>
<p>One can follow the steps in <a class="el" href="a00008.html">Development Environment Setup</a> to setup the development environment.</p>
<p><a class="el" href="a00002.html">Development Environment Guide</a> introduces the development environment.</p>
<h2><a class="anchor" id="sec_getstart_2"></a>
2. The "Hello World!" Example</h2>
<p>The following program simply makes the SCAMP-5c into a webcam, which sends every frame captured to the host PC without any significant image processing.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Host Configuration Section</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;apron.config_begin</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    sim.pix_source_webcam</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    host.template(&#39;scamp5c_host_template.txt&#39;)</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    host.firmware(&#39;ok_s5c_ipu.bit&#39;)</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    host.set_frame_rate(25)</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    window_1 = host.add_display(&#39;HalfRange&#39;)</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    window_2 = host.add_display(&#39;FullRange&#39;)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;apron.config_end</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;// SCAMP-5c Program Section</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;#start</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    ipu.wait_frame_trigger</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    rpix(B,C)</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    usb.aout(B,window_1)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    usb.aout(C,window_2)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;_jump(#start)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;apron.genereate_host</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;apron.compile_host</div>
</div><!-- fragment --><p>To run this program, following these steps:</p><ol type="1">
<li>copy the code and save in a text file with .aps extension.</li>
<li>make a copy of "ok_s5c_ipu.bit" in "./examples" folder and put it alongside the aps file.</li>
<li>make a copy of "scamp5c_host_template.txt" in "./examples" folder and put it alongside the aps file.</li>
<li>open the aps file in Crimson Editor.</li>
<li>compile the file using "Tools" -&gt; "SCAMP5-c Compile ICW" (or with hotkey Ctrl-3)</li>
<li>launch the program in APRON using "Tools" -&gt; "SCAMP5-c Host ICW" (or with hotkey Ctrl-4)</li>
<li>in APRON, click "Run" in the toolbar.</li>
</ol>
<p>As indicated by the comment lines, there are two sections in the sourcecode: the host configuration and the scamp5c program. If modification has been done to the host configuration section, APRON need to be restarted. If only the program section has been changed, APRON will automatically update the program for the system when the compilation (Ctrl-3) is finished.</p>
<p>Note, the location of the bit file and template file can be varied, as long as they are correctly located in line #5 and line #6 in the above code.</p>
<h2><a class="anchor" id="sec_getstart_3"></a>
3. More Examples and Documentation</h2>
<p><a class="el" href="a00004.html">Example Guideline</a> introduces all of the examples provided in the repository. To learn the functions in the source code , it is recommanded to search the function name with '.' replaced by '_'. For example, to get an idea of what "usb.aout" is, search for "usb_aout". For those functions with no perfix (e.g. "rpix"), one should search for "pe_" + the function name (e.g. "pe_rpix"). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 27 2016 17:09:33 for SCAMP-5c Vision System by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
