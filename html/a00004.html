<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>SCAMP-5c Vision System: Example Guideline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="scamp5c_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SCAMP-5c Vision System
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">An image sensor with a parallel processor on focal plane</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Example Guideline </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="sec_example_guide_1"></a>
Example Files</h1>
<p>There are 12 examples in total. Each of the example is placed in a separate folder. However, they share the same host template and bit file that is located outside their own folders. Therefore, if a copy of any example is wanted, one need to make sure the associated host template and bit file are sorted out correctly in the configuration section of the source code.</p>
<p><br />
 </p>
<h1><a class="anchor" id="sec_example_guide_2"></a>
Example Guideline</h1>
<h2><a class="anchor" id="sec_example_guide_2_1"></a>
Example 1: Simple Camera</h2>
<p>This program simply capture the image from the photo transistor and send it back to the PC host. It uses the macro <a class="el" href="a00026.html#af279536c1942f9029b5681c8d474e7bd" title="read the image from PIX in to AREGs, and reset PIX ">pe_rpix</a> to capture both the image in both full-range format and half-range format.</p>
<h2><a class="anchor" id="sec_example_guide_2_2"></a>
Example 2: Thresholding</h2>
<p>This program applies a thresholding process to the image, which yield a boolean image. This demonstates the use of <code>where</code> and some basic AREG arithmetics using the macros in <a class="el" href="a00033.html">PE Analogue Operation Macros</a>. This particular example, the boolean image is stored using AREG but DREG can also be used. The threshold applied is read from the PC host. The user can dynamically modify this threshold by moving a slider in the APRON GUI.</p>
<p>In this program, the exposure time is stablized by a double frame trigger mechanism (see <a class="el" href="a00025.html#ae67c1f24e4bec58094a95fddb5282215" title="wait until a frame trigger is detected ">ipu_wait_frame_trigger</a>), which is often used when the frame loop contains one or more usb image readout (e.g. <a class="el" href="a00030.html#a6185368d95142035f24ec36d535b3e11" title="sample and output an entire 256x256 AREG plane ">usb_aout</a>) and the frame time is thus overwhelmed by these communciations.</p>
<h2><a class="anchor" id="sec_example_guide_2_3"></a>
Example 3: Motion Detection</h2>
<p>This program subtract a just-captured image with the previous image, which yields the difference between the two images of different times. In observation, the result image only shows the pixels that are moving in the scene.</p>
<h2><a class="anchor" id="sec_example_guide_2_4"></a>
Example 4: AREG Neighbour Access</h2>
<p>This program used the neighbour accessing macros such as <a class="el" href="a00026.html#a232ba933adfa131160c3da9c41d34111" title="copy the AREG of the west neighbouring PE ">pe_west</a> to copy an analogue register of a neighbouring PE. When such process is iterated many times using a loop, it can produce a image shifted along one or two directions accross the plane. Analogue operation errors can also be observed in this example when the number of iterations is high.</p>
<h2><a class="anchor" id="sec_example_guide_2_5"></a>
Example 5: IPU Conditional Branching</h2>
<p>In this example, both type of conditional branching is used: a) jump when last IPU instruction produced a result of 0, and b) jump when last IPU instruction produced an overflow or underflow. More details can be found in <a class="el" href="a00025.html#a2c567927a7d6b8d1e278f88f7eaf2971" title="jump the program conditionally to a labeled position ">_jump</a></p>
<h2><a class="anchor" id="sec_example_guide_2_6"></a>
Example 6: DREG Flooding</h2>
<p>This example demonstrate the aysnchronous flooding capability of the SCAMP-5 vision chip. A detailed description of the flooding macro can be found in <a class="el" href="a00027.html#ad1cddbff61561dccf8b82ca528e5b70e" title="flooding a DREG plane with &#39;1&#39;s from the boundary ">pro_flood_from_boundary</a>. To obtain a apparent result in this example, a white paper with a few closed shape (e.g. black circles) should be placed in front of the camera. And the threshold needs to be properly adjusted.</p>
<h2><a class="anchor" id="sec_example_guide_2_7"></a>
Example 7: Aysnchronous Diffusion</h2>
<p>This example demonstrate the aysnchronous diffusion capability using the macro <a class="el" href="a00027.html#ac4fe1054133b926526894d52f35f935a" title="diffuse a AREG plane ">pro_diffuse</a>.</p>
<h2><a class="anchor" id="sec_example_guide_2_8"></a>
Example 8: Events Scanning</h2>
<p>This example uses a few functionalities in combination to demonstrate the events scanning capbility:</p><ol type="1">
<li>A few '1' pixels are manually drawn on a DREG plane (using <a class="el" href="a00025.html#a830922aa8bd253a29d1f796e870ccf9f" title="set one pixel in a DREG plane ">ipu_pixel_set</a>) which is originally all '0's.</li>
<li>The macro <a class="el" href="a00027.html#aa0725e6c260489087d9e5af43db76846" title="locate a &#39;1&#39; in a DREG plane, starting from bottom right ">pro_locate_event</a> is used to find the coordinates of one of these pixels.</li>
<li>The coordinates is sent to PC using a usb data stream.</li>
<li>The found pixel is then erased using digital masking operations.</li>
<li>Step 2 &ndash; 4 are iterated, so <a class="el" href="a00027.html#aa0725e6c260489087d9e5af43db76846" title="locate a &#39;1&#39; in a DREG plane, starting from bottom right ">pro_locate_event</a> will find these pixels one by one.</li>
</ol>
<h2><a class="anchor" id="sec_example_guide_2_9"></a>
Example 9: DREG Neighbour Access</h2>
<p>Similar to <a class="el" href="a00004.html#sec_example_guide_2_4">Example 4: AREG Neighbour Access</a>, this example achieves shifting of a DREG plane using the digital version of the neighbour accessing capability.</p>
<h2><a class="anchor" id="sec_example_guide_2_10"></a>
Example 10: DREG Selecting</h2>
<p>This example use <a class="el" href="a00025.html#ae7f4fe7c859009db5412a1f769539dab" title="set all pixel a DREG plane of which their coordinates match the rules ">ipu_pixel_select</a> to generate patterns in a DREG plane where the x-y coordinates of selected pixel meet a specific rule. Because the DREG plane can be used to flag a PE, making such patterns can be used to manually select a portion of PEs to operate.</p>
<h2><a class="anchor" id="sec_example_guide_2_11"></a>
Example 11: Analogue Regional Summation</h2>
<p>This example sum the analogue register values in a region of an AREG plane. Note, the <a class="el" href="a00025.html#ab077411ddcb7a72c8a04a94409f52791" title="sum all pixels in a AREG plane, then sample ">ipu_global_sum</a> can only sum an entire AREG plane. To sum only a specific region, one first need to mask the PEs using the DREG selecting and shifting macros.</p>
<h2><a class="anchor" id="sec_example_guide_2_12"></a>
Example 12: Simulation Using A Video or Image</h2>
<p>When this example is executed as simulation, it uses a video as the image source so no webcam nor SCAMP-5c is required. This maybe also useful when the image processing algorithm need to be applied on a scenario that is only replayable through a video. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 21 2016 18:47:08 for SCAMP-5c Vision System by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
